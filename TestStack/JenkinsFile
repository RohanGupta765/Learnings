pipeline{
	agent any
	stages{
	
			stage('Config Stage')
		{	
			steps
			{
			withMaven(maven : 'M3')
			{	sh 'mvn -Dmaven.test.failure.ignore=true clean package'}
			}
		}
		stage('Compile Stage')
		{	
			steps
			{
			withMaven(maven : 'M3')
			{	sh 'maven clean compile'}
			}
		}
		
		stage('Testing Stage')
		{
			steps
			{
			withMaven(maven : 'M3')
			{bat 'maven test'}
			}
		}
	  }			
	
}	
