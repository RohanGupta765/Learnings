pipeline{
	agent any
	environment 
	{
    PATH = "C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\bin;${env.PATH}"
    }
	
	stages
	{

		stage('Checkout')
		{	
			
			def maven_path=tool name: 'M3', type: 'maven'
			sh "${maven_path}/bin/mvn package"
			
		}
		
		stage('Compile Package')
		{	
			def maven_path=tool name: 'M3', type: 'maven'
			sh "${maven_path}/bin/mvn package"
		}
		
				stage('Testing Stage')
		{
			def maven_path= tool name: 'M3', type: 'maven'
			sh "${maven_path}/bin/mvn test"
		}
	 }			
	
}	
